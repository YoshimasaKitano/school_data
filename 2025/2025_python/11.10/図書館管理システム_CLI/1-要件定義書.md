# 図書館管理システム(CLI) 要件定義書

## 1. システム名称

図書館管理システム（Library Management System）


## 2. 背景・目的

本システムは、図書館における蔵書の管理と利用者の貸出・返却履歴を効率的に管理することを目的とする。Pythonを用いたコンソールアプリケーションとして構築し、学習用途や小規模運用に適した設計とする。



## 3. 対象ユーザー

| ユーザー種別 | 役割と権限 |
|--------------|------------|
| 管理者       | 本の追加・検索・削除・更新を行う。蔵書の管理を担当。 |
| 一般ユーザー | ユーザー登録を行い、本の貸出・返却・履歴確認を行う。 |



## 4. システム概要

本システムは、以下の2つの主要モードを持つ：

- 管理者モード：蔵書の登録・更新・削除・検索を行う。
- ユーザーモード：ユーザー登録、貸出、返却、履歴確認を行う。

データはJSONファイルに保存され、永続的に管理される。



## 5. 機能要件

### 5.1 管理者機能

| 機能名       | 詳細 |
|--------------|------|
| 本の追加     | タイトルと著者名を入力し、蔵書に登録。重複チェックあり。 |
| 本の検索     | キーワードによる部分一致検索。著者名と貸出状況を表示。 |
| 本の削除     | タイトルを指定して削除。存在しない場合はエラー表示。 |
| 本の更新     | 著者名の変更。存在しない場合はエラー表示。 |

### 5.2 ユーザー機能

| 機能名       | 詳細 |
|--------------|------|
| ユーザー登録 | 初回利用時にユーザー名を登録。既存ユーザーは履歴を引き継ぐ。 |
| 本の貸出     | 貸出可能な本を選択して借りる。1人最大3冊まで。 |
| 本の返却     | 借りている本を選択して返却。 |
| 履歴確認     | 現在借りている本の一覧を表示。 |



## 6. 非機能要件

| 項目         | 内容 |
|--------------|------|
| 実行環境     | Python 3.x が動作する環境（Windows, macOS, Linux） |
| データ保存   | JSONファイル（books.json, users.json） |
| UI           | コンソールベースのテキスト入力・表示 |
| セキュリティ | パスワード認証は未実装（将来的に追加可能） |
| 同時利用     | 単一ユーザーによる利用を想定（マルチユーザー未対応） |



## 7. データ要件

### 7.1 本データ構造（books.json）

```json
{
  "タイトル": {
    "author": "著者名",
    "available": true
  }
}
```

### 7.2 ユーザーデータ構造（users.json）

```json
{
  "ユーザー名": {
    "borrowed": ["タイトル1", "タイトル2"]
  }
}
```



## 8. 制約事項

- 本のタイトルは一意である必要がある。
- ユーザーは最大3冊まで借りることができる。
- ファイル破損時の復旧機能は対応しなくてよい。
- GUIやWebインターフェースは使用しない


