# 図書館管理システム(CLI) 要求仕様書

## 1. はじめに

本要求仕様書は、Pythonによるコンソールベースの「図書館管理システム」の開発に向けた機能的・非機能的な要求事項を明確にすることを目的とする。


## 2. システム概要

本システムは、図書館における蔵書の管理と利用者の貸出・返却履歴を効率的に処理するためのアプリケーションである。  
管理者と一般ユーザーの2種類のユーザーが存在し、それぞれに応じた操作が可能となる。


## 3. ユーザー要件

| ユーザー種別 | 要件 |
|--------------|------|
| 管理者       | 蔵書の追加・検索・削除・更新が可能であること。 |
| 一般ユーザー | ユーザー登録後、本の貸出・返却・履歴確認が可能であること。 |


## 4. 機能要求

### 4.1 管理者機能

| 機能名 | 要求内容 |
|--------|----------|
| 本の追加 | タイトルと著者名を入力し、重複がない場合に蔵書へ登録できること。 |
| 本の検索 | キーワードによる部分一致検索が可能で、著者名と貸出状況を表示すること。 |
| 本の削除 | 指定されたタイトルの本を削除できること。存在しない場合はエラーを表示すること。 |
| 本の更新 | 指定された本の著者名を変更できること。存在しない場合はエラーを表示すること。 |

### 4.2 ユーザー機能

| 機能名 | 要求内容 |
|--------|----------|
| ユーザー登録 | 初回利用時にユーザー名を登録し、既存ユーザーは履歴を引き継げること。 |
| 本の貸出 | 貸出可能な本を選択して借りることができ、1人最大3冊までとすること。 |
| 本の返却 | 借りている本を選択して返却できること。 |
| 履歴確認 | 現在借りている本の一覧を表示できること。 |


## 5. 非機能要求

| 項目 | 要求内容 |
|------|----------|
| 実行環境 | Python 3.x が動作する環境（Windows, macOS, Linux）であること。 |
| データ保存 | JSONファイル（books.json, users.json）により永続的にデータを保存すること。 |
| UI | コンソールベースのテキスト入力・表示で操作可能であること。 |
| セキュリティ | パスワード認証は未実装とし、将来的に追加可能な設計とすること。 |
| 同時利用 | 単一ユーザーによる利用を前提とし、マルチユーザー対応は不要とすること。 |


## 6. データ要求

### 6.1 蔵書データ（books.json）

```json
{
  "タイトル": {
    "author": "著者名",
    "available": true
  }
}
```

- タイトルは一意であること。
- available が true の場合、貸出可能。

### 6.2 ユーザーデータ（users.json）

```json
{
  "ユーザー名": {
    "borrowed": ["タイトル1", "タイトル2"]
  }
}
```

- borrowed 配列には現在借りている本のタイトルを格納。
- 最大3冊まで保持可能。


## 7. 制約事項

- 本のタイトルは一意である必要がある。
- ユーザーは最大3冊まで借りることができる。
- ファイル破損時の復旧機能は不要。
- GUIやWebインターフェースは使用しない。

