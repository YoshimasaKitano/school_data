# 「おみくじアプリ」要求仕様書

## 1. 概要

| 項目 | 内容 |
|------|------|
| アプリ名 | おみくじアプリ |
| 種別 | CLIアプリケーション |
| 対象ユーザー | 一般ユーザー（年齢・性別問わず） |
| 実行環境 | Python 3（標準ライブラリのみ） |
| 利用目的 | 毎日1回、簡単に運勢を占える体験を提供する |

---

## 2. 要求機能

### 2.1 ユーザー登録

| 要求ID | F-01 |
|--------|------|
| 機能名 | ユーザー登録 |
| 説明 | ユーザーは名前を入力することで登録される。 |
| 入力 | ユーザー名（文字列） |
| 出力 | JSONファイルに保存されたユーザー情報 |
| 制約 | 空文字は禁止。再入力を促す。 |

---

### 2.2 おみくじ抽選

| 要求ID | F-02 |
|--------|------|
| 機能名 | おみくじ抽選 |
| 説明 | ユーザーは1日1回、運勢をランダムに抽選できる。 |
| 入力 | ユーザー名 |
| 出力 | 抽選された運勢（大吉〜凶） |
| 制約 | 同日に再抽選不可。保存された結果を表示する。 |

---

### 2.3 結果保存・履歴表示

| 要求ID | F-03 |
|--------|------|
| 機能名 | 結果保存・履歴表示 |
| 説明 | 抽選結果をユーザー名と日付とともに保存し、再アクセス時に表示する。 |
| 入力 | 抽選結果、日付 |
| 出力 | JSONファイルへの保存、CLIへの表示 |
| 制約 | 日付形式は `YYYY-MM-DD` |

---

### 2.4 データ管理

| 要求ID | F-04 |
|--------|------|
| 機能名 | データ管理 |
| 説明 | ユーザー情報と運勢結果をJSONファイルで管理する。 |
| 入力 | ユーザー名、運勢、日付 |
| 出力 | `omikuji_users.json` ファイル |
| 制約 | ファイルが存在しない場合は新規作成する。 |

---

## 3. 非機能要求

### 3.1 ユーザビリティ

| 要求ID | NF-01 |
|--------|-------|
| 説明 | 初回利用でも迷わず操作できるよう、明確なプロンプトを表示する。結果は日本語で表示する。 |

---

### 3.2 保守性

| 要求ID | NF-02 |
|--------|-------|
| 説明 | 関数は役割ごとに分割し、再利用しやすい構造にする。データ形式はJSONを使用。 |

---

### 3.3 セキュリティ

| 要求ID | NF-03 |
|--------|-------|
| 説明 | ユーザー名以外の個人情報は扱わない。ファイル操作時は例外処理を行い、エラー時に適切なメッセージを表示する。 |

---

## 4. 制約事項

| 要求ID | C-01 |
|--------|------|
| 内容 | GUIは使用しない（CLIのみ） |

| 要求ID | C-02 |
|--------|------|
| 内容 | 外部ライブラリは使用しない（標準ライブラリのみ） |

| 要求ID | C-03 |
|--------|------|
| 内容 | 多言語対応は行わない（日本語のみ） |

---

## 5. 成果物

| 種類 | 内容 |
|------|------|
| スクリプト | `omikuji.py` |
| データファイル | `omikuji_users.json` |
| ドキュメント | 要件定義書、仕様書、詳細設計書 |

