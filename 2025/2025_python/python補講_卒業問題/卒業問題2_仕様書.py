# # 条件分岐構文、繰返し構文、例外処理の実践問題2

# ## 商品登録と会計システム
# ### 概要  
# 本プログラムは、最大3種類の商品を登録し、
# それぞれの単価と数量を入力することで小計を計算
# 合計金額と消費税（10％）込みの総合計を算出・表示する簡易レジシステムです。

# ### 目的  
# ユーザー入力に基づく商品情報の収集  
# 各商品の小計、合計金額、税込金額の算出  
# 領収書形式による結果の整形表示  
# 基本的な入力検証（数値入力のバリデーション）対応

# ### 実装要件
# 商品登録上限：最大3商品（固定） 
# 入力項目：各商品について「商品名」「単価（円）」「数量」
# エラーハンドリング：例外処理による数値入力の検証とエラーメッセージの表示 
# 小計計算：「単価」 × 「数量」による計算 
# 合計金額：全商品の小計合計（税抜価格）
# 税込価格：合計金額 × 1.1（消費税率10%）を整数で算出
# 出力フォーマット：商品ごとの小計および領収書形式の合計出力

# ### 処理の流れ
# 1. プログラム開始メッセージの表示（最大3商品まで登録可能）  
# 2. 商品1〜3まで順に：  
#    - 商品名、単価、数量の入力  
#    - 単価と数量は整数に変換（不正入力はリトライ）  
#    - 小計の算出および表示  
# 3. 3商品の小計を合算して合計金額を算出  
# 4. 合計金額に10%の税を加えた税込価格の計算  
# 5. 領収書として、各商品の小計・合計金額・税込価格を整形して表示

# ---

# ### 出力例
# ```
# ◆ 商品登録と会計システム ◆  
# 最大3商品まで登録可能

# 【商品1】  
# 商品名: ノート  
# 単価（円）: 100  
# 数量: 3  
# ノート 小計: 300 円

# 【商品2】  
# 商品名: ペン  
# 単価（円）: 150  
# 数量: 2  
# ペン 小計: 300 円

# 【商品3】  
# 商品名: 消しゴム  
# 単価（円）: 80  
# 数量: 4  
# 消しゴム 小計: 320 円

# ------------領収書------------  
# ノート: 300 円  
# ペン: 300 円  
# 消しゴム: 320 円  
# 合計（税抜）: 920 円  
# 税込価格（10%）: 1012 円  
# ------------------------------
# ```
for i in range(1, 4):
   while True:
      try:
         if i == 1:
            product1 = input("商品名: ")
            price1 = int(input("単価(円): "))
            num1 = int(input("数量: "))
            result1 = price1 * num1
            break
         elif i == 2:
            product2 = input("商品名: ")
            price2 = int(input("単価(円): "))
            num2 = int(input("数量: "))
            result2 = price2 * num2
            break
         else:
            product3 = input("商品名: ")
            price3 = int(input("単価(円): "))
            num3 = int(input("数量: "))
            result3 = price3 * num3
            break
      except:
         print("単価や数量は数値で入力して下さい")
         continue
      
ans = result1 + result2 + result3
ans_tax = int(ans * 1.1)
print()
print(f"【商品1】")
print(f"商品名: {product1}")
print(f"単価（円）: {price1}")
print(f"数量: {num1}")
print(f"{product1} 小計: {result1} 円")
print()
print(f"【商品2】")
print(f"商品名: {product2}")
print(f"単価（円）: {price2}")
print(f"数量: {num2}")
print(f"{product2} 小計: {result2} 円")
print()
print(f"【商品3】")
print(f"商品名: {product3}")
print(f"単価（円）: {price3}")
print(f"数量: {num3}")
print(f"{product3} 小計: {result3} 円")
print()
print("------------領収書------------")
print(f"{product1}: {result1} 円")
print(f"{product2}: {result2} 円")
print(f"{product3}: {result3} 円")
print(f"合計（税抜）: {ans} 円")
print(f"税込価格（10%）: {ans_tax} 円")
print("------------------------------")
   
   


